!function(){var t,a,n,r,e,i,s,c,o,u;$(function(){return o(),$(".map .land path:not(.original)").on("click",function(){return t(this)}),$(".year").on("click",function(){return $(this).hasClass("active")?void 0:t(s(this))}),$(".year .close").on("click",function(){return e(),!1}),$(".year .overlay-map").on("click",function(){return u($(this).siblings("img")),!1}),$(".year").hover(function(){return $(this).hasClass("active")?void 0:a(this)},i),$(".map .land path").hover(function(){return $(this).attr("active")?void 0:n(this)},i),$(".end-intro").on("click",function(){return $(".intro").addClass("inactive"),$(".map").attr("class","map active"),$(".graph").addClass("active"),r($(".current-year span:first")),$(".time-marker").addClass("active"),!1})}),o=function(){return $(".graph .year").each(function(){var t,a,n,r,e,i,s;return t=1630,n=2e3,e=n-t,s=$(this).data("year"),a=$(this).data("duration"),r=100*((s-t)/e),i=100*(a/e),$(this).css({left:r+"%",width:i+"%"})})},r=function(t){return $(t).prev("span").length&&$(t).prev("span").css("display","none"),$(t).css("opacity",1),$(t).next("span").length?setTimeout(function(){return r($(t).next("span"))},14e3/$(".current-year span").length):$(t).css("display","none")},t=function(t){var a;return a=c(t),e(),i(),$(".year").addClass("inactive"),$(".graph-key").addClass("inactive"),a.removeClass("inactive").addClass("active"),$(t).attr("active","active")},e=function(){return $(".year").removeClass("active"),$(".year").removeClass("inactive"),$(".graph-key").removeClass("inactive"),$(".map .land path").attr("active","")},u=function(t){return $(t).toggleClass("active")},a=function(t){var a;return a=s(t),$(a).attr("hint","hint")},n=function(t){var a;return a=c(t),$(a).addClass("hint")},i=function(){return $(".year").removeClass("hint"),$(".map .land path").attr("hint","")},s=function(t){var a;return a=$(t).data("name"),$(".map ."+a)},c=function(t){var a;return a=$(t).attr("class"),$(".year[data-name="+a+"]")}}.call(this);